# sst 数据块结构

hifidb一次读写的最小单位是一个"x.sst"文件（x是一个递增数字，不保证连续）。

.sst文件创建后既不可修改，sst文件修改需要重新读取整个sst文件，在内存中修改数据后递增sst文件的数字文件名，并重新写入（会导致写放大，优化措施见数据合并部分文档）。

## SST

TODO 。。。

## Data Block

SST文件内由多个数据块组成，每个数据块是SST中数据索引与压缩的基本单位。

数据块主要由三部分组成：

1. 数据部分：数据部分是KV对组成的，紧凑排列
2. 偏移部分：偏移部分为每个KV对的起始字节相对于SST文件的偏移量
3. 元数据部分: 元数据部分长度固定，存储了Data Block的基本信息，包括KV对数量，校验和，压缩标识，Block最后一个KV对
